{
  "entities": {
    "UserProfile": {
      "title": "User Profile",
      "description": "Represents a user's profile information.",
      "type": "object",
      "properties": {
        "displayName": {
          "type": "string",
          "description": "The user's display name."
        },
        "email": {
          "type": "string",
          "format": "email",
          "description": "The user's email address."
        }
      }
    },
    "Goal": {
      "title": "Saving Goal",
      "description": "A financial savings goal for a user.",
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The ID of the user who owns this goal."
        },
        "name": {
          "type": "string",
          "description": "The name of the saving goal."
        },
        "emoji": {
          "type": "string",
          "description": "An emoji representing the goal."
        },
        "totalAmount": {
          "type": "number",
          "description": "The total amount to be saved."
        },
        "savedAmount": {
          "type": "number",
          "description": "The amount already saved."
        },
        "deadline": {
          "type": "string",
          "format": "date-time",
          "description": "The deadline for the goal."
        },
        "status": {
          "type": "string",
          "enum": ["active", "archived"],
          "description": "The current status of the goal."
        }
      },
      "required": ["userId", "name", "emoji", "totalAmount", "savedAmount", "deadline", "status"]
    },
    "Contribution": {
      "title": "Contribution",
      "description": "A single contribution towards a saving goal.",
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The ID of the user who made the contribution."
        },
        "goalId": {
          "type": "string",
          "description": "The ID of the goal this contribution is for."
        },
        "amount": {
          "type": "number",
          "description": "The amount of the contribution."
        },
        "date": {
          "type": "string",
          "format": "date-time",
          "description": "The date of the contribution."
        }
      },
      "required": ["userId", "goalId", "amount", "date"]
    },
    "Income": {
      "title": "Income",
      "description": "An income record for a user.",
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The ID of the user who owns this income record."
        },
        "type": {
          "type": "string",
          "description": "The type of income (references an income category name)."
        },
        "amount": {
          "type": "number",
          "description": "The income amount in USD."
        },
        "originalAmount": {
          "type": "number",
          "description": "The original income amount in the specified currency."
        },
        "currency": {
          "type": "string",
          "enum": ["USD", "DOP"],
          "description": "The currency of the original amount."
        },
        "date": {
          "type": "string",
          "format": "date-time",
          "description": "The date the income was received."
        },
        "description": {
          "type": "string",
          "description": "An optional description for the income."
        }
      },
      "required": ["userId", "type", "amount", "originalAmount", "currency", "date"]
    },
    "Expense": {
      "title": "Expense",
      "description": "An expense record for a user.",
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The ID of the user who owns this expense record."
        },
        "type": {
          "type": "string",
          "description": "The type of expense (references an expense category name)."
        },
        "amount": {
          "type": "number",
          "description": "The expense amount in USD."
        },
        "originalAmount": {
          "type": "number",
          "description": "The original expense amount in the specified currency."
        },
        "currency": {
          "type": "string",
          "enum": ["USD", "DOP"],
          "description": "The currency of the original amount."
        },
        "date": {
          "type": "string",
          "format": "date-time",
          "description": "The date the expense was made."
        },
        "description": {
          "type": "string",
          "description": "An optional description for the expense."
        }
      },
      "required": ["userId", "type", "amount", "originalAmount", "currency", "date"]
    },
    "Category": {
      "title": "Category",
      "description": "A user-defined category for income or expenses.",
      "type": "object",
      "properties": {
          "userId": { "type": "string" },
          "name": { "type": "string" },
          "emoji": { "type": "string" }
      },
      "required": ["userId", "name"]
    },
    "Debt": {
      "title": "Debt",
      "description": "A debt record for a user.",
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The ID of the user who owns this debt."
        },
        "name": {
          "type": "string",
          "description": "The name of the debt."
        },
        "emoji": {
          "type": "string",
          "description": "An emoji representing the debt."
        },
        "totalAmount": {
          "type": "number",
          "description": "The total amount of the debt."
        },
        "paidAmount": {
          "type": "number",
          "description": "The amount already paid."
        },
        "monthlyPayment": {
          "type": "number",
          "description": "The required monthly payment."
        },
        "dueDate": {
          "type": "number",
          "description": "The day of the month the payment is due."
        }
      },
      "required": ["userId", "name", "emoji", "totalAmount", "paidAmount", "monthlyPayment", "dueDate"]
    },
    "DebtPayment": {
      "title": "Debt Payment",
      "description": "A single payment towards a debt.",
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The ID of the user who made the payment."
        },
        "debtId": {
          "type": "string",
          "description": "The ID of the debt this payment is for."
        },
        "amount": {
          "type": "number",
          "description": "The amount of the payment."
        },
        "date": {
          "type": "string",
          "format": "date-time",
          "description": "The date of the payment."
        }
      },
      "required": ["userId", "debtId", "amount", "date"]
    }
  },
  "auth": {
    "providers": ["anonymous"]
  },
  "firestore": {
    "/users/{userId}": {
      "schema": {
        "$ref": "#/entities/UserProfile"
      },
      "description": "Stores public profiles for users."
    },
    "/goals/{goalId}": {
      "schema": {
        "$ref": "#/entities/Goal"
      },
      "description": "Stores all saving goals created by users."
    },
    "/goals/{goalId}/contributions/{contributionId}": {
      "schema": {
        "$ref": "#/entities/Contribution"
      },
      "description": "Sub-collection for contributions to a specific goal."
    },
    "/incomes/{incomeId}": {
      "schema": {
        "$ref": "#/entities/Income"
      },
      "description": "Stores all income records for all users."
    },
     "/expenses/{expenseId}": {
      "schema": {
        "$ref": "#/entities/Expense"
      },
      "description": "Stores all expense records for all users."
    },
    "/debts/{debtId}": {
      "schema": {
        "$ref": "#/entities/Debt"
      },
      "description": "Stores all debt records for all users."
    },
    "/debts/{debtId}/payments/{paymentId}": {
      "schema": {
        "$ref": "#/entities/DebtPayment"
      },
      "description": "Sub-collection for payments towards a specific debt."
    },
    "/incomeCategories/{categoryId}": {
      "schema": {
        "$ref": "#/entities/Category"
      },
      "description": "Stores user-defined categories for income."
    },
    "/expenseCategories/{categoryId}": {
      "schema": {
        "$ref": "#/entities/Category"
      },
      "description": "Stores user-defined categories for expenses."
    }
  }
}
